[{"title":"APK瘦身","date":"2018-01-05T12:00:45.000Z","path":"2018/01/05/APK-optimize/","text":"优化点 代码优化 压缩代码和移除无效代码和引用库 minifyEnabled trueProGuard默认开启shrinker， 会检测和移除封装应用中未使用的类、字段、方法和属性。-dontshrink关闭 检查jar, so文件，移除无效引用，评估so是否只保留armable的资源 评估依赖库是否能provided编译 公共库拆分,比如网络库，图片库等不建议打包进公共库，在提供集成时，说明依赖库，如应用已经引用则无需再次添加重复代码或者Jar 资源优化 压缩图片TinyPNG: https://tinypng.comRiot: http://luci.criosweb.ro/riot (推荐使用，支持预览、批量) shrinkResources true将未使用的资源替换成小文件，比如图片使用1*1像素图片替换，资源文件只有头标识 工具方法 APK解压查看资源文件大小（图片是否合理，是否需要多分辨率，是否需要多语言），无效资源是否被最小单元替换（未使用的图片是否黑点替换，未使用的xml资源是否只有头标识，如有这些，建议在源码中删除后再次编译） APK反编译 查看混淆是否成功，注意无引用的类是否被移除 下载jadx: https://github.com/skylot/jadx (推荐使用，包含apk，jar，xml等反编译, 其他工具dex2jar,jd-gui,luyten) 添加jadx.bat到环境变量，或者直接切换到jadx目录 jadx-gui.bat *.apk ODEX反编译 odex文件优化 下载 baksmali smali: https://github.com/JesusFreke/smali copy odex 到baksmali，smail 同目录，odex位于/apk路径/oat/arm64 java -jar .\\baksmali-*.jar deodex/de/&#215;&#215;&#215;.odex 根据反编译的文件移除无需引用的类，注意V4, V7兼容包，第三方包(由于电视系统大多数为Android6.0以上系统，建议V4,V7兼容包可以只引用部分，比如RecycleView, CardView单独引用)==注意事项：反编译过程中，注意查看是否依赖其他OAT文件，比如一般应用都依赖boot.oat。boot.oat文件位于/system/framework/arm 或者 /system/framework/arm64下== 删除无用资源 Android Studio工程 手动删除 选择需要清理的项目 点击Android Studio上的Analyze菜单按钮 选择Run Inspection by Name 在出现的弹窗中输入unused resources 下面的输出栏会输出没有用的资源文件，可以点击查看并删除无用的 自动删除 点击Android Studio上的Refactor 选择remove unreused resources Eclipse工程 右键需要清理的项目 Android Tools Run Lint:Check For Common Errors 这时就会打开Lint warning 视图，在这里就可以清理各种无用的资源、代码。","tags":[{"name":"Android","slug":"Android","permalink":"http://godspace.cn/tags/Android/"}]},{"title":"Monkeyrunner Error","date":"2017-11-21T06:26:45.000Z","path":"2017/11/21/Monkeyrunner-Error/","text":"Monkeyrunner errorAbove Android SDK Tools Revision 25.3.0, Monkeyrunner scripts has modified.So, It may have the following problems12$ SWT folder '..\\framework\\x86' does not exist.$ Please set ANDROID_SWT to point to the folder containing swt.jar for your platform. Open $ANDROID_HOME$\\tools\\bin\\monkeyrunner.bat, 1.12if exist %frameworkdir%\\%jarfile% goto JarFileOk set frameworkdir=..\\framework modify to:12if exist %frameworkdir%\\%jarfile% goto JarFileOk set frameworkdir=..\\lib 2.1call \"%java_exe%\" -Xmx512m \"-Djava.ext.dirs=%frameworkdir%;%swt_path%\" -Dcom.android.monkeyrunner.bindir=..\\framework -jar %jarpath% %* modify to:1call \"%java_exe%\" -Xmx512m \"-Djava.ext.dirs=%frameworkdir%;%swt_path%\" -Dcom.android.monkeyrunner.bindir=..\\..\\platform-tools -jar %jarpath% %*","tags":[{"name":"Android","slug":"Android","permalink":"http://godspace.cn/tags/Android/"},{"name":"monkey","slug":"monkey","permalink":"http://godspace.cn/tags/monkey/"}]},{"title":"连续性和悖论","date":"2017-11-17T03:00:48.000Z","path":"2017/11/17/The-paradox-of-continuity/","text":"存在 or 非存在古希腊有个学派叫做爱利亚派，其创建人名叫巴门尼德（Parmenides）。这位哲人对运动充满了好奇，但在他看来，运动是一种自相矛盾的行为，它不可能是真实的，而一定是一个假相。为什么呢？因为巴门尼德认为世界上只有一个唯一的“存在”，既然是唯一的存在，它就不可能有运动。因为除了“存在”就是“非存在”，“存在”怎么可能移动到“非存在”里面去呢？所以他认为“存在”是绝对静止的，而运动是荒谬的，我们所理解的运动只是假相而已。 阿喀琉斯（Achilles）是史诗《伊利亚特》里的希腊大英雄，以“捷足”而著称。有一天他碰到一只乌龟，乌龟嘲笑他说：“别人都说你厉害，但我看你如果跟我赛跑，还追不上我。”阿喀琉斯大笑说：“这怎么可能。我就算跑得再慢，速度也有你的10倍，哪会追不上你？”乌龟说：“好，那我们假设一下。你离我有100米，你的速度是我的10倍。现在你来追我了，但当你跑到我现在这个位置，也就是跑了100米的时候，我也已经又向前跑了10米。当你再追到这个位置的时候，我又向前跑了1米，你再追1米，我又跑了1/10米……总之，你只能无限地接近我，但你永远也不能追上我。”","tags":[{"name":"物理","slug":"物理","permalink":"http://godspace.cn/tags/物理/"},{"name":"量子","slug":"量子","permalink":"http://godspace.cn/tags/量子/"}]}]